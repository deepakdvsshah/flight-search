---
---

# Home : Flight Search

## Document History

| **Version Number** |  **Date**  | **Edited by** |  **Change/Comments**  |
| :----------------: | :--------: | :-----------: | :-------------------: |
|        1.0         | 11-10-2020 |  Deepak Shah  | Initial Documentation |

## Introduction

```
This is a feature which can be inject in any of the angular application.
This feature featch all flights based on search criteria.
```

## Preconditions

To integrate this feature we need to add dependency into application module file along with route file.
Ex. 
    { path: 'search', loadChildren: () => import('@flight-search/shared/search').then((m) => m.SharedSearchModule) 
OR
Ex. 
<flight-search-search></flight-search-search>

## Logic

**Search Flights**

First we take token from auth api.
Using search criteria, we call flight-desinations api.
Based on result of above api, data is integrated into list.

# Select

in component data binding through @select.
Selects are functions that slice a specific portion of state from the global state container.
In NGXS, there are two methods to select state, we can either call the select method on the Store service or use the @Select decorator. First let's look at the @Select decorator.

Select Decorators
Ex. @Select(FlightSearchState.getFlightList) searchResult$: Observable<FlightSearchStateModel>;

Store Select Function
Ex. this.store.select(state => state.getFlightList)

# Creating actions

An action example in search.actions.ts.

Ex. export class GetFlightList {
    static readonly type = SearchFlightActionType.GET_FLIGHT_LIST;
    constructor(public payload: ISearch) {
    }
}

# Dispatching actions from component

    1.Internal action
    2.simple action
    3.action with metadata

To dispatch actions, you need to inject the Store service into your component/service and invoke the dispatch function with an action or an array of actions you wish to trigger.like this

Ex. this.store.dispatch(new GetFlightList())

# Defining a State

States are classes along with decorators to describe metadata and action mappings.

After dispatch it will go to action then state after that it will call http call from service generated by swagger editor.

# Snapshots

You can get a snapshot of the state by calling store.snapshot(). This will return the entire value of the store for that point in time.

Ex. const productList = this.store.selectSnapshot(FlightSearchState.getFlightList);

1st way to add
for this feature we need to add

Ex.  
    { path: 'search', loadChildren: () => import('@flight-search/shared/search').then((m) => m.SharedSearchModule) 


2nd way to add
<flight-search-search></flight-search-search>

## Post-conditions

After this all flight list showing into UI.
